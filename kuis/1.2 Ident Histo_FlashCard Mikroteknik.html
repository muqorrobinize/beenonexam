<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Mikroteknik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: #123524; /* Warna hijau tua seperti meja kasino */
            background-image: radial-gradient(rgba(255, 255, 255, 0.05) 10%, transparent 10%),
                              radial-gradient(rgba(255, 255, 255, 0.05) 10%, transparent 10%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            overflow: hidden;
        }
        .main-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .card-container {
            perspective: 1500px;
            width: 90vw;
            max-width: 400px;
            height: 500px;
            cursor: pointer;
            z-index: 10; /* Pastikan kartu utama di atas animasi */
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .card-container.is-flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 1.5rem;
            border: 8px solid #D4AF37;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), inset 0 0 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .card-front {
            background: linear-gradient(145deg, #1A4314, #2E5C41);
            color: #FFFFFF;
        }
        .card-back {
            background: linear-gradient(145deg, #4A0E0B, #801C18);
            color: #FFFFFF;
            transform: rotateY(180deg);
        }
        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            border-bottom: 2px solid #D4AF37;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .card-category {
            background-color: rgba(212, 175, 55, 0.2);
            color: #FFD700;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 15px;
            border: 1px solid #D4AF37;
        }
        .card-content {
            font-size: 1rem;
            line-height: 1.6;
            width: 100%;
            text-align: center;
        }
         .card-content ul {
            list-style-position: inside;
            text-align: left;
            margin: 0 auto;
            max-width: 90%;
        }
        .card-content li {
            margin-bottom: 4px;
        }
        .nav-button {
            background-color: #D4AF37;
            color: #123524;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            text-transform: uppercase;
        }
        .nav-button:hover {
            background-color: #FFD700;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }
        .nav-button:disabled {
            background-color: #555;
            color: #999;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .card-counter {
            background-color: rgba(0,0,0,0.5);
            color: #FFD700;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 1rem;
            border: 1px solid #D4AF37;
        }
        
        /* Animasi Cascade Shuffle */
        .shuffle-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 5;
            pointer-events: none;
        }
        .shuffle-card {
            position: absolute;
            width: 90vw;
            max-width: 400px;
            height: 500px;
            background: linear-gradient(145deg, #4A0E0B, #801C18);
            border-radius: 1.5rem;
            border: 8px solid #D4AF37;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform-origin: center center;
        }
        .is-shuffling .shuffle-card {
            animation: cascade-shuffle 1.2s cubic-bezier(0.6, 0.04, 0.98, 0.335) forwards;
        }
        @keyframes cascade-shuffle {
            0% { transform: translate(0, 0) rotate(0); opacity: 0; }
            20% { opacity: 1; }
            80% {
                transform: var(--transform-end);
                opacity: 1;
            }
            100% {
                transform: translate(0, 0) rotate(0);
                opacity: 0;
            }
        }

        /* Modal Daftar Istilah */
        .list-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .list-modal-overlay.is-open {
            opacity: 1;
            pointer-events: auto;
        }
        .list-modal-content {
            background: linear-gradient(145deg, #1A4314, #2E5C41);
            color: white;
            padding: 30px;
            border-radius: 1.5rem;
            border: 4px solid #D4AF37;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            text-align: center;
            color: #FFD700;
            margin-bottom: 20px;
        }
        .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #FFD700;
            font-size: 2.5rem;
            cursor: pointer;
            line-height: 1;
        }
        .term-list {
            list-style: none;
            padding: 0;
        }
        .term-list li {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .term-list li:hover {
            background-color: rgba(212, 175, 55, 0.2);
        }
        .term-list li:last-child {
            border-bottom: none;
        }

    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-bold text-white" style="font-family: 'Playfair Display', serif; text-shadow: 3px 3px 6px rgba(0,0,0,0.7);">Flashcard Mikroteknik</h1>
        <p class="text-lg text-gray-300 mt-2">Geser atau klik tombol untuk belajar.</p>
    </div>

    <div class="main-container">
        <div id="shuffleContainer" class="shuffle-container"></div>
        <div id="cardContainer" class="card-container mb-8">
            <div id="cardInner" class="card-inner">
                <div id="cardFront" class="card-face card-front"></div>
                <div id="cardBack" class="card-face card-back"></div>
            </div>
        </div>
    </div>
    
    <div id="listModal" class="list-modal-overlay">
        <div class="list-modal-content">
            <button id="closeModalBtn" class="close-button">&times;</button>
            <h2 class="modal-title">Daftar Istilah</h2>
            <ul id="termList" class="term-list">
                <!-- Dinamis diisi oleh JavaScript -->
            </ul>
        </div>
    </div>


    <div class="flex items-center space-x-4 mb-3">
        <button id="prevBtn" class="nav-button">‚óÅ Sebelumnya</button>
        <div id="cardCounter" class="card-counter">1 / 48</div>
        <button id="nextBtn" class="nav-button">Selanjutnya ‚ñ∑</button>
    </div>
    <div class="flex items-center space-x-4 mt-3">
      <button id="shuffleBtn" class="nav-button">Kocok Kartu üé≤</button>
      <button id="listBtn" class="nav-button">Daftar Istilah üìñ</button>
    </div>

    <script>
        const flashcards = [
            // Istilah Dasar & Kategori (Sesuai PPT)
            { front: { title: "Histologi", category: "Definisi" }, back: { content: "Ilmu yang mempelajari struktur jaringan yang tak terlihat mata telanjang, dan hubungan antara struktur dan fungsi.", category: "Istilah" } },
            { front: { title: "Jaringan (Tissue)", category: "Definisi" }, back: { content: "Sekumpulan sel serupa beserta produk selnya. Ada 4 kelas jaringan primer.", category: "Istilah" } },
            { front: { title: "Organ", category: "Definisi" }, back: { content: "Tersusun dari 2 atau lebih tipe jaringan yang berbeda.", category: "Istilah" } },
            { front: { title: "Empat Jaringan Primer", category: "Kategori" }, back: { content: "<ul><li>Jaringan Epitel</li><li>Jaringan Ikat (Connective)</li><li>Jaringan Otot (Muscular)</li><li>Jaringan Saraf (Nervous)</li></ul>", category: "Klasifikasi" } },

            // Jenis Mikroskop (Lengkap Sesuai PPT)
            { front: { title: "Mikroskop Bright-field", category: "Jenis Mikroskop Cahaya" }, back: { content: "Mikroskop standar yang paling umum digunakan, di mana spesimen terlihat gelap di atas latar belakang yang terang.", category: "Fungsi" } },
            { front: { title: "Mikroskop Dark-field", category: "Jenis Mikroskop Cahaya" }, back: { content: "Spesimen terlihat terang di atas latar belakang gelap. Baik untuk mengamati objek hidup yang tidak diwarnai.", category: "Fungsi" } },
            { front: { title: "Mikroskop Phase-contrast", category: "Jenis Mikroskop Cahaya" }, back: { content: "Mengubah perbedaan fase cahaya yang melewati spesimen menjadi perbedaan kecerahan, memungkinkan pengamatan sel hidup tanpa pewarnaan.", category: "Fungsi" } },
            { front: { title: "Mikroskop Fluorescence", category: "Jenis Mikroskop Cahaya" }, back: { content: "Menggunakan sinar UV untuk mengeksitasi molekul berpendar (fluorophores) dalam spesimen, yang kemudian memancarkan cahaya terlihat.", category: "Fungsi" } },
            { front: { title: "Mikroskop Inverted", category: "Jenis Mikroskop Cahaya" }, back: { content: "Sumber cahaya dan kondensor berada di atas, sedangkan lensa objektif di bawah. Digunakan untuk mengamati sel hidup dalam cawan kultur.", category: "Fungsi" } },
            { front: { title: "Transmission Electron Microscope (TEM)", category: "Jenis Mikroskop Elektron" }, back: { content: "Menembakkan elektron menembus spesimen ultra-tipis untuk menghasilkan gambar 2D resolusi tinggi dari struktur internal sel.", category: "Fungsi" } },
            { front: { title: "Scanning Electron Microscope (SEM)", category: "Jenis Mikroskop Elektron" }, back: { content: "Memindai permukaan spesimen dengan elektron untuk membuat gambar 3D detail dari topografi permukaan.", category: "Fungsi" } },
            
            // Komponen & Fungsi Mikroskop
            { front: { title: "Komponen Optik Mikroskop", category: "Kategori" }, back: { content: "<ul><li>Lensa Okuler</li><li>Lensa Obyektif</li><li>Kondensor</li><li>Diafragma</li><li>Cermin / Sumber Cahaya</li></ul>", category: "Komponen" } },
            { front: { title: "Komponen Statif (Mekanik)", category: "Kategori" }, back: { content: "<ul><li>Tabung atau Tubus</li><li>Meja Sediaan</li><li>Sekrup Makrometer</li><li>Sekrup Mikrometer</li></ul>", category: "Komponen" } },
            { front: { title: "Rumus Perbesaran Total", category: "Fungsi" }, back: { content: "Perbesaran Lensa Objektif dikalikan Perbesaran Lensa Okuler (M = m_ob √ó m_ok).", category: "Perhitungan" } },

            // Sediaan & Persyaratan
            { front: { title: "Jenis Sediaan Diamati", category: "Kategori" }, back: { content: "<ul><li>Sediaan segar</li><li>Sediaan permanen (sediaan utuh, apus, irisan)</li></ul>", category: "Jenis Sediaan" } },
            { front: { title: "Syarat Jaringan Untuk Diamati", category: "Kategori" }, back: { content: "<ul><li>Menyerupai jaringan asli</li><li>Transparan (Translucent)</li><li>Tipis (Thin)</li><li>Kontras (Contrast)</li></ul>", category: "Persyaratan" } },

            // Tata Cara Pemrosesan Jaringan (Lengkap dengan fungsi)
            { front: { title: "Urutan Pemrosesan Jaringan", category: "Tatacara" }, back: { content: "Fiksasi ‚Üí Dehidrasi ‚Üí Penjernihan ‚Üí Infiltrasi ‚Üí Pengeblokan ‚Üí Pemotongan ‚Üí Pewarnaan ‚Üí Pemasangan", category: "Prosedur" } },
            { front: { title: "Fungsi Fiksasi (Fixation)", category: "Fungsi Pertahapan" }, back: { content: "Mencegah kerusakan dan pembusukan (autolisis), mengeraskan jaringan, dan mengawetkan struktur seluler. Menggunakan Formalin atau Bouin.", category: "Langkah Proses" } },
            { front: { title: "Fungsi Dehidrasi (Dehydration)", category: "Fungsi Pertahapan" }, back: { content: "Menghilangkan air dari jaringan agar dapat dimasuki oleh media penjernih yang tidak larut air. Menggunakan alkohol bertingkat.", category: "Langkah Proses" } },
            { front: { title: "Fungsi Penjernihan (Clearing)", category: "Fungsi Pertahapan" }, back: { content: "Menggantikan alkohol dengan zat yang dapat larut dalam alkohol dan parafin (misalnya xylene), membuat jaringan transparan.", category: "Langkah Proses" } },
            { front: { title: "Fungsi Infiltrasi & Pengeblokan", category: "Fungsi Pertahapan" }, back: { content: "Memasukkan parafin cair ke dalam jaringan dan memadatkannya menjadi blok, memberikan dukungan agar bisa diiris tipis.", category: "Langkah Proses" } },
            { front: { title: "Fungsi Pemotongan (Sectioning)", category: "Fungsi Pertahapan" }, back: { content: "Mengiris blok jaringan menjadi pita-pita yang sangat tipis (5-12 ¬µm) menggunakan mikrotom.", category: "Langkah Proses" } },
            { front: { title: "Fungsi Pewarnaan (Staining)", category: "Fungsi Pertahapan" }, back: { content: "Memberikan warna yang kontras pada berbagai komponen sel dan jaringan agar mudah diidentifikasi.", category: "Langkah Proses" } },
            
            // Pewarnaan (Lengkap Sesuai PPT)
            { front: { title: "Pewarnaan Hematoxylin-Eosin (H&E)", category: "Pewarnaan Rutin" }, back: { content: "Reaksi Asam-Basa. <b>Hematoxylin (Basa):</b> Mewarnai bagian asam (inti sel) menjadi biru (Basofilik). <b>Eosin (Asam):</b> Mewarnai bagian basa (sitoplasma) menjadi merah (Eosinofilik).", category: "Detail Pewarnaan" } },
            { front: { title: "Basofilik", category: "Istilah Pewarnaan" }, back: { content: "Struktur jaringan yang bersifat asam (misal: inti sel kaya DNA/RNA) yang menyerap pewarna basa seperti Hematoxylin, sehingga berwarna biru.", category: "Pewarnaan" } },
            { front: { title: "Eosinofilik / Asidofilik", category: "Istilah Pewarnaan" }, back: { content: "Struktur jaringan yang bersifat basa (misal: sitoplasma kaya protein) yang menyerap pewarna asam seperti Eosin, sehingga berwarna pink/merah.", category: "Pewarnaan" } },
            { front: { title: "Masson's Trichrome", category: "Pewarnaan Khusus" }, back: { content: "<ul><li>Inti: Biru tua</li><li>Otot, Keratin, Sitoplasma: Merah</li><li>Musinogen, Kolagen: Biru muda</li></ul>", category: "Hasil Pewarnaan" } },
            { front: { title: "Orcein's Elastic Stain", category: "Pewarnaan Khusus" }, back: { content: "Mewarnai serat elastin (elastic fibers) menjadi berwarna coklat.", category: "Hasil Pewarnaan" } },
            { front: { title: "Weigert's Elastic Stain", category: "Pewarnaan Khusus" }, back: { content: "Mewarnai serat elastin (elastic fibers) menjadi berwarna biru.", category: "Hasil Pewarnaan" } },
            { front: { title: "Silver Stain", category: "Pewarnaan Khusus" }, back: { content: "Mewarnai serat retikuler (reticular fibers) menjadi berwarna hitam.", category: "Hasil Pewarnaan" } },
            { front: { title: "Iron Hematoxylin", category: "Pewarnaan Khusus" }, back: { content: "Mewarnai striasi otot, inti, dan eritrosit menjadi berwarna hitam.", category: "Hasil Pewarnaan" } },
            { front: { title: "Periodic Acid-Schiff (PAS)", category: "Pewarnaan Khusus" }, back: { content: "Mewarnai glikogen dan molekul kaya karbohidrat menjadi berwarna magenta.", category: "Hasil Pewarnaan" } },
            { front: { title: "Wright's & Giemsa Stains", category: "Pewarnaan Khusus" }, back: { content: "Digunakan untuk pewarnaan diferensial sel darah (eritrosit pink, sitoplasma monosit & limfosit biru).", category: "Hasil Pewarnaan" } },
            { front: { title: "Pewarnaan Lipid", category: "Pewarnaan Khusus" }, back: { content: "Menggunakan Oil Red O atau Sudan Black karena lipid tidak terlihat pada pewarnaan rutin.", category: "Metode" } },

            // Jenis Potongan (Lengkap Sesuai PPT)
            { front: { title: "Potongan Membujur (Longitudinal)", category: "Jenis Potongan" }, back: { content: "Jaringan dipotong sepanjang arah terpanjang dari organ.", category: "Definisi" } },
            { front: { title: "Potongan Melintang (Cross Section)", category: "Jenis Potongan" }, back: { content: "Jaringan dipotong tegak lurus terhadap panjang organ.", category: "Definisi" } },
            { front: { title: "Potongan Miring (Oblique)", category: "Jenis Potongan" }, back: { content: "Jaringan dipotong pada sudut antara potongan melintang dan membujur.", category: "Definisi" } },
            { front: { title: "Sectioning Solid Objects", category: "Konsep Potongan" }, back: { content: "Memotong objek padat (seperti sel) menghasilkan irisan yang mungkin tidak selalu mengenai bagian tengahnya (misal: inti sel). Beberapa irisan bisa tampak lebih kecil atau bahkan tidak memiliki inti.", category: "Interpretasi" } },
            { front: { title: "Sectioning Hollow Structures", category: "Konsep Potongan" }, back: { content: "Memotong struktur berongga (seperti pembuluh darah atau tubulus) akan menghasilkan penampakan yang berbeda (lingkaran, elips, dua lingkaran) tergantung pada bidang potongannya (melintang, miring, atau pada lengkungan).", category: "Interpretasi" } },
            
            // Teknik Lanjutan & Prosedur
            { front: { title: "Immunocytochemistry", category: "Teknik" }, back: { content: "Teknik berdasarkan reaksi spesifik antara antigen dan antibodi untuk mendeteksi molekul tertentu.", category: "Definisi" } },
            { front: { title: "Metode Immunocytochemistry", category: "Kategori" }, back: { content: "Ada dua metode: Langsung (Direct) dan Tidak Langsung (Indirect).", category: "Klasifikasi" } },
            { front: { title: "Cara Menggunakan Mikroskop", category: "Tatacara" }, back: { content: "1. Persiapan Awal ‚Üí 2. Menyalakan ‚Üí 3. Meletakkan Preparat ‚Üí 4. Mengatur Lensa & Fokus ‚Üí 5. Mengatur Cahaya & Kontras ‚Üí 6. Perbesaran Tinggi ‚Üí 7. Mengamati ‚Üí 8. Selesai", category: "Prosedur" } }
        ];

        let currentCard = 0;
        let isShuffling = false;

        const cardContainer = document.getElementById('cardContainer');
        const cardInner = document.getElementById('cardInner');
        const cardFront = document.getElementById('cardFront');
        const cardBack = document.getElementById('cardBack');
        const cardCounter = document.getElementById('cardCounter');
        const shuffleContainer = document.getElementById('shuffleContainer');
        const listModal = document.getElementById('listModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const termList = document.getElementById('termList');
        
        const shuffleBtn = document.getElementById('shuffleBtn');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const listBtn = document.getElementById('listBtn');

        function populateTermList() {
            termList.innerHTML = '';
            flashcards.forEach((card, index) => {
                const li = document.createElement('li');
                li.textContent = card.front.title;
                li.dataset.index = index;
                termList.appendChild(li);
            });
        }

        function updateCard() {
            const cardData = flashcards[currentCard];
            
            cardFront.innerHTML = `
                <h2 class="card-title">${cardData.front.title}</h2>
                <span class="card-category">${cardData.front.category}</span>
            `;

            cardBack.innerHTML = `
                <div class="card-content">${cardData.back.content}</div>
                <span class="card-category">${cardData.back.category}</span>
            `;

            cardContainer.classList.remove('is-flipped');
            
            cardCounter.textContent = `${currentCard + 1} / ${flashcards.length}`;
            
            prevBtn.disabled = currentCard === 0;
            nextBtn.disabled = currentCard === flashcards.length - 1;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function triggerShuffleAnimation() {
            if (isShuffling) return;
            isShuffling = true;
            shuffleBtn.disabled = true;

            const numShuffleCards = 7;
            shuffleContainer.innerHTML = '';

            for (let i = 0; i < numShuffleCards; i++) {
                const card = document.createElement('div');
                card.className = 'shuffle-card';
                
                const angle = (Math.random() - 0.5) * 60;
                const x = (Math.random() - 0.5) * 200;
                const y = (Math.random() - 0.5) * 100;
                
                card.style.setProperty('--transform-end', `translate(${x}px, ${y}px) rotate(${angle}deg)`);
                card.style.animationDelay = `${i * 0.05}s`;
                
                shuffleContainer.appendChild(card);
            }
            
            setTimeout(() => {
                shuffleArray(flashcards);
                currentCard = 0;
                updateCard();
                isShuffling = false;
                shuffleBtn.disabled = false;
                shuffleContainer.innerHTML = '';
            }, 1200 + numShuffleCards * 50);
        }


        cardContainer.addEventListener('click', () => {
            if (isShuffling) return;
            cardContainer.classList.toggle('is-flipped');
        });

        nextBtn.addEventListener('click', (e) => {
            e.stopPropagation(); 
            if (currentCard < flashcards.length - 1) {
                currentCard++;
                updateCard();
            }
        });

        prevBtn.addEventListener('click', (e) => {
            e.stopPropagation(); 
            if (currentCard > 0) {
                currentCard--;
                updateCard();
            }
        });
        
        shuffleBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            document.body.classList.add('is-shuffling');
            triggerShuffleAnimation();
        });

        listBtn.addEventListener('click', () => {
            listModal.classList.add('is-open');
        });

        closeModalBtn.addEventListener('click', () => {
            listModal.classList.remove('is-open');
        });

        listModal.addEventListener('click', (e) => {
            if (e.target === listModal) {
                 listModal.classList.remove('is-open');
            }
        });
        
        termList.addEventListener('click', (e) => {
            if (e.target.tagName === 'LI') {
                const index = parseInt(e.target.dataset.index, 10);
                currentCard = index;
                updateCard();
                listModal.classList.remove('is-open');
            }
        });


        // Initial Setup
        populateTermList();
        updateCard();
    </script>

</body>
</html>

